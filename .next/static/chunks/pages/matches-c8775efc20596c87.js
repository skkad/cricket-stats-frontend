(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[999],{1180:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var a=s(7876),l=s(1713);let c=(0,l.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),r=(0,l.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),i=(0,l.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),n=(0,l.A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var o=s(672),d=s(4232);let m=e=>{let{message:t,open:s,status:l,duration:m=3e3,onClose:x}=e,[h,u]=(0,d.useState)(!1),{bg:g,text:p,icon:v}=(()=>{switch(l){case"success":return{bg:"bg-green-100",text:"text-green-800",icon:(0,a.jsx)(c,{size:20,className:"text-green-500"})};case"error":return{bg:"bg-red-100",text:"text-red-800",icon:(0,a.jsx)(r,{size:20,className:"text-red-500"})};case"info":return{bg:"bg-blue-100",text:"text-blue-800",icon:(0,a.jsx)(i,{size:20,className:"text-blue-500"})};default:return{bg:"bg-orange-100",text:"text-orange-800",icon:(0,a.jsx)(n,{size:20,className:"text-orange-500"})}}})(),y=(0,d.useCallback)(()=>{u(!0),setTimeout(()=>{x&&x()},300)},[x]);return(0,d.useEffect)(()=>{if(m&&x){let e=setTimeout(()=>{y()},m);return()=>clearTimeout(e)}},[m,x,y]),(0,a.jsx)(a.Fragment,{children:s&&(0,a.jsxs)("div",{className:"fixed flex items-center gap-2 bottom-4 right-4 z-50 w-80 p-2 rounded-lg shadow-lg ".concat(g," ").concat(p,"  ").concat(h?"animation-slide-out":"animation-slide-in"),children:[v,(0,a.jsx)("div",{className:"flex-1 text-sm",children:t}),(0,a.jsx)("button",{className:"ml-auto p-2 text-gray-500 hover:text-gray-700",onClick:x,children:(0,a.jsx)(o.A,{size:20})})]})})}},4609:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/matches",function(){return s(5192)}])},5192:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(7876),l=s(4232),c=s(1713);let r=(0,c.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),i=(0,c.A)("disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var n=s(6558),o=s(6297),d=s(1180);let m=()=>{var e,t,s,c,m,x,h;let[u,g]=(0,l.useState)(!1),[p,v]=(0,l.useState)(!1),[y,f]=(0,l.useState)({team1:"",team2:"",date:"",overs:"",toss_winner:"",toss_decision:""}),[b,j]=(0,l.useState)({team1:"",team2:"",date:"",overs:"",toss_winner:"",toss_decision:""}),[N,w]=(0,l.useState)(null),k=(0,o.g)({url:"/teams/get-all-teams",method:"GET",id:""}),_=(0,o.g)({url:"/matches/get-all-matches",method:"GET",id:""}),S=async(e,t,s)=>{v(!0);try{let a=await fetch("".concat("https://my-cricket-stats-backend.onrender.com/api/v1").concat(e),{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),l=await a.json();console.log("Result",l),v(!1),f({team1:"",team2:"",date:"",overs:"",toss_winner:"",toss_decision:""}),w(l)}catch(e){console.log("Error fetching data",e),j({team1:"",team2:"",date:"",overs:"",toss_winner:"",toss_decision:""}),v(!1),w({message:"Failed to create match. Please try again.",status:!1})}},C=()=>{let e={team1:"",team2:"",date:"",overs:"",toss_winner:"",toss_decision:""};return j(e),!Object.values(e).some(e=>""!==e)};return console.log("check",_),(0,a.jsxs)("div",{className:"space-y-6 mx-4 md:mx-22 mt-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Matches"}),(0,a.jsx)("button",{className:"w-full sm:w-auto bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",onClick:()=>{g(!0)},children:"Record New Match"})]}),u&&(0,a.jsxs)("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow-md max-w-2xl mx-auto",children:[(0,a.jsx)("h2",{className:"text-lg md:text-xl font-semibold mb-6",children:"Match Registration"}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),C()){let e={team1:y.team1,team2:y.team2,date:y.date,overs:y.overs,toss_winner:y.toss_winner,toss_decision:y.toss_decision};console.log("befor api call :",p,e),S("/matches/create-match","POST",e),console.log("after api call :",p)}else console.log("api call not happening:")},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Team A"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{className:"w-full py-1 px-1 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",value:y.team1,onChange:e=>f({...y,team1:e.target.value}),children:[(0,a.jsx)("option",{children:"Select team A..."}),(null==k?void 0:null===(e=k.data)||void 0===e?void 0:e.data).map(e=>(0,a.jsx)("option",{value:e._id,children:e.name},e._id))]})}),(0,a.jsx)("span",{className:"text-red-500 text-sm mt-1",children:b.team1})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Team B"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{className:"w-full py-1 px-1 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",value:y.team2,onChange:e=>f({...y,team2:e.target.value}),children:[(0,a.jsx)("option",{children:"Select team B..."}),(null==k?void 0:null===(t=k.data)||void 0===t?void 0:t.data).map(e=>(0,a.jsx)("option",{value:e._id,children:e.name},e._id))]})}),(0,a.jsx)("span",{className:"text-red-500 text-sm mt-1",children:b.team2})]}),(0,a.jsxs)("div",{className:"space-y-2 flex gap-2",children:[(0,a.jsxs)("div",{className:"md:w-50% w-full",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(r,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,a.jsx)("input",{type:"date",className:"pl-10 py-1 w-full rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",placeholder:"Select date",value:y.date,onChange:e=>f({...y,date:e.target.value})})]}),(0,a.jsx)("span",{className:"text-red-500 text-sm mt-1",children:b.date})]}),(0,a.jsxs)("div",{className:"md:w-50% w-full",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Overs"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,a.jsx)("input",{type:"number",className:"pl-10 py-1 w-full rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",placeholder:"Enter no.of overs",value:y.overs,min:0,onChange:e=>f({...y,overs:e.target.value})})]}),(0,a.jsx)("span",{className:"text-red-500 text-sm mt-1",children:b.overs})]})]}),(0,a.jsxs)("div",{className:"space-y-2 flex gap-2",children:[(0,a.jsxs)("div",{className:"md:w-50% w-full",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Toss Winner"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{className:"w-full py-1 px-1 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",value:y.toss_winner,onChange:e=>f({...y,toss_winner:e.target.value}),children:[(0,a.jsx)("option",{children:"Select toss winner..."}),(null==k?void 0:null===(s=k.data)||void 0===s?void 0:s.data).filter(e=>e._id===y.team1||e._id===y.team2).map(e=>(0,a.jsx)("option",{value:e._id,children:e.name},e._id))]})}),(0,a.jsx)("span",{className:"text-red-500 text-sm mt-1",children:b.toss_winner})]}),(0,a.jsxs)("div",{className:"md:w-50% w-full",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Toss Decision"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{className:"w-full py-1 px-1 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",value:y.toss_decision,onChange:e=>f({...y,toss_decision:e.target.value}),children:[(0,a.jsx)("option",{children:"Select toss decision..."}),(0,a.jsx)("option",{value:"bat",children:"Batting"}),(0,a.jsx)("option",{value:"bowl",children:"Bowling"})]})}),(0,a.jsx)("span",{className:"text-red-500 text-sm mt-1",children:b.overs})]})]}),(0,a.jsx)("button",{type:"button",onClick:()=>g(!1),className:"w-full mt-5 bg-white text-indigo-600 py-2 px-4 rounded-lg hover:bg-white transition-colors cursor-pointer border border-indigo-600",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors cursor-pointer",children:"Create"})]})]}),!u&&(0,a.jsxs)("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-lg md:text-xl font-semibold mb-4",children:"Match Results"}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:(null==_?void 0:null===(c=_.data)||void 0===c?void 0:c.data)&&Array.isArray(_.data.data)&&(null==_?void 0:null===(x=_.data)||void 0===x?void 0:null===(m=x.data)||void 0===m?void 0:m.length)>0?null===(h=_.data.data)||void 0===h?void 0:h.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.date).toDateString()}),(0,a.jsx)(n.A,{className:"h-5 w-5 text-yellow-500"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-center flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold",children:e.team1.name}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold",children:"".concat(e.scorecard.team1.runs,"/").concat(e.scorecard.team1.wickets)}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"".concat(e.scorecard.team1.overs," overs")})]}),(0,a.jsx)("div",{className:"px-4",children:(0,a.jsx)("span",{className:"text-gray-400",children:"vs"})}),(0,a.jsxs)("div",{className:"text-center flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold",children:e.team2.name}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold",children:"".concat(e.scorecard.team2.runs,"/").concat(e.scorecard.team2.wickets)}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"".concat(e.scorecard.team2.overs," overs")})]})]}),(0,a.jsx)("div",{className:"text-center text-sm",children:(0,a.jsx)("p",{className:"text-indigo-600 font-semibold",children:e.match_comment||"Match result pending..."})}),(0,a.jsx)("button",{className:"w-full mt-2 text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:(0,a.jsx)("a",{href:"/matches/".concat(e._id),children:"View Scorecard"})})]},e._id)):(0,a.jsx)("div",{className:"col-span-full text-center py-8 text-gray-500",children:"No matches recorded yet"})})]}),(0,a.jsx)(d.A,{message:(null==N?void 0:N.message)?N.message:"Player registered successfully",status:(null==N?void 0:N.status)?"success":"error",open:!!N,onClose:()=>w(null)})]})}},6297:(e,t,s)=>{"use strict";s.d(t,{g:()=>l});var a=s(4232);let l=e=>{let{url:t,method:s,id:l}=e,[c,r]=(0,a.useState)(null),[i,n]=(0,a.useState)(!0),[o,d]=(0,a.useState)(null),m=(0,a.useCallback)(async()=>{n(!0);try{let e=await fetch("".concat("https://my-cricket-stats-backend.onrender.com/api/v1").concat(t,"/").concat(l),{method:s}),a=await e.json();console.log("Result",a),r(a),n(!1)}catch(e){console.log("Error fetching data",e),d("object"==typeof e&&null!==e?e:{message:String(e)}),n(!1)}},[t,l,s]);return(0,a.useEffect)(()=>{m()},[m]),{data:c,loading:i,error:o}}},6558:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1713).A)("trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(4609)),_N_E=e.O()}]);