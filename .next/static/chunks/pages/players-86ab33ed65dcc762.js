(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{1180:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var l=a(7876),s=a(1713);let r=(0,s.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),i=(0,s.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),n=(0,s.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),o=(0,s.A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var c=a(672),d=a(4232);let m=e=>{let{message:t,open:a,status:s,duration:m=3e3,onClose:u}=e,[x,g]=(0,d.useState)(!1),{bg:p,text:h,icon:b}=(()=>{switch(s){case"success":return{bg:"bg-green-100",text:"text-green-800",icon:(0,l.jsx)(r,{size:20,className:"text-green-500"})};case"error":return{bg:"bg-red-100",text:"text-red-800",icon:(0,l.jsx)(i,{size:20,className:"text-red-500"})};case"info":return{bg:"bg-blue-100",text:"text-blue-800",icon:(0,l.jsx)(n,{size:20,className:"text-blue-500"})};default:return{bg:"bg-orange-100",text:"text-orange-800",icon:(0,l.jsx)(o,{size:20,className:"text-orange-500"})}}})(),y=(0,d.useCallback)(()=>{g(!0),setTimeout(()=>{u&&u()},300)},[u]);return(0,d.useEffect)(()=>{if(m&&u){let e=setTimeout(()=>{y()},m);return()=>clearTimeout(e)}},[m,u,y]),(0,l.jsx)(l.Fragment,{children:a&&(0,l.jsxs)("div",{className:"fixed flex items-center gap-2 bottom-4 right-4 z-50 w-80 p-2 rounded-lg shadow-lg ".concat(p," ").concat(h,"  ").concat(x?"animation-slide-out":"animation-slide-in"),children:[b,(0,l.jsx)("div",{className:"flex-1 text-sm",children:t}),(0,l.jsx)("button",{className:"ml-auto p-2 text-gray-500 hover:text-gray-700",onClick:u,children:(0,l.jsx)(c.A,{size:20})})]})})}},2671:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(1713).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2713:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/players",function(){return a(5185)}])},5185:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var l=a(7876),s=a(4232),r=a(2671),i=a(1713);let n=(0,i.A)("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),o=(0,i.A)("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),c=(0,i.A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),d=[{label:"Batsman",value:"batsman"},{label:"Bowler",value:"bowler"},{label:"All-Rounder",value:"allrounder"}];var m=a(6297),u=a(1180);let x=()=>{let[e,t]=(0,s.useState)(!1),[a,i]=(0,s.useState)(!1),[x,g]=(0,s.useState)({name:"",email:"",password:"",role:"batsman",mobile_number:"",age:""}),[p,h]=(0,s.useState)({name:"",email:"",role:"",mobile_number:"",age:""}),[b,y]=(0,s.useState)([]),[f,v]=(0,s.useState)([]),[j,N]=(0,s.useState)(""),[w,k]=(0,s.useState)(1),[_,A]=(0,s.useState)(1),[S,C]=(0,s.useState)(null),E=(0,m.g)({url:"/players/get-all-players",method:"GET",id:""}),M=async(e,t,a)=>{i(!0);try{let l=await fetch("".concat("https://my-cricket-stats-backend.onrender.com/api/v1").concat(e),{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),s=await l.json();console.log("Result",s),i(!1),g({name:"",email:"",password:"",role:"batsman",mobile_number:"",age:""}),C(s)}catch(e){console.log("Error fetching data",e),h({name:"",email:"",role:"",mobile_number:"",age:""}),i(!1),C({message:"Failed to create match. Please try again.",status:!1})}},z=()=>{let e={name:"",email:"",role:"",mobile_number:"",age:""};return x.name||(e.name="Name is required"),x.email?/\S+@\S+\.\S+/.test(x.email)||(e.email="Email is invalid"):e.email="Email is required",x.mobile_number?/^\d{10}$/.test(x.mobile_number)||(e.mobile_number="Mobile number should be 10 digits"):e.mobile_number="Mobile number is required",x.age?isNaN(Number(x.age))?e.age="Age should be a number":0>Number(x.age)&&(e.age="Age should be a positive number"):e.age="Age is required",x.role||(e.role="Role is required"),h(e),!Object.values(e).some(e=>""!==e)};return(0,s.useEffect)(()=>{var e,t;let a=Array.isArray(null==E?void 0:null===(e=E.data)||void 0===e?void 0:e.data)?null==E?void 0:null===(t=E.data)||void 0===t?void 0:t.data:[],l=j.trim()?a.filter(e=>"object"==typeof e&&null!==e&&Object.values(e).some(e=>String(e).toLowerCase().includes(j.toLowerCase()))):a;y(l),A(Math.ceil((null==l?void 0:l.length)/5))},[j,E]),(0,s.useEffect)(()=>{v(null==b?void 0:b.slice((w-1)*5,5*w))},[w,b]),(0,l.jsxs)("div",{className:"space-y-6 mx-4 md:mx-22 mt-6",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,l.jsx)("h1",{className:"text-3xl md:text-3xl font-bold text-gray-900",children:"Players"}),(0,l.jsx)("button",{className:"w-full sm:w-auto bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",onClick:()=>{t(!0)},children:"Register New Player"})]}),e&&(0,l.jsxs)("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow-md max-w-2xl mx-auto",children:[(0,l.jsx)("h2",{className:"text-lg md:text-xl font-semibold mb-6",children:"Player Registration"}),(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),z()){let e={name:x.name,email:x.email,mobile_number:Number(x.mobile_number),age:Number(x.age),player_role:x.role};console.log("befor api call :",a,e),M("/players/register-players","POST",e),console.log("after api call :",a)}else console.log("api call not happening:")},className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(r.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,l.jsx)("input",{type:"text",className:"pl-10 py-1 w-full rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",placeholder:"Enter player's full name",value:x.name,onChange:e=>g({...x,name:e.target.value})})]}),(0,l.jsx)("span",{className:"text-red-500 text-sm mt-1",children:p.name})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,l.jsx)("input",{type:"email",className:"pl-10 py-1 w-full rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",placeholder:"Enter email address",value:x.email,onChange:e=>g({...x,email:e.target.value})})]}),(0,l.jsx)("span",{className:"text-red-500 text-sm mt-1",children:p.email})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile Number"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(o,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,l.jsx)("input",{type:"text",className:"pl-10 py-1 w-full rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",placeholder:"Enter mobile number",value:x.mobile_number,pattern:"[0-9]*",onChange:e=>{/^[a-zA-Z]/g.test(e.target.value)||g({...x,mobile_number:e.target.value})}})]}),(0,l.jsx)("span",{className:"text-red-500 text-sm mt-1",children:p.mobile_number})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Age"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(c,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,l.jsx)("input",{type:"number",className:"pl-10 py-1 w-full rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",placeholder:"Enter mobile number",value:x.age,onChange:e=>g({...x,age:e.target.value})})]}),(0,l.jsx)("span",{className:"text-red-500 text-sm mt-1",children:p.age})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Player Role"}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("select",{className:"w-full py-1 px-1 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",value:x.role,onChange:e=>g({...x,role:e.target.value}),children:d.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})}),(0,l.jsx)("span",{className:"text-red-500 text-sm mt-1",children:p.role})]}),(0,l.jsx)("button",{type:"button",onClick:()=>t(!1),className:"w-full mt-5 bg-white text-indigo-600 py-2 px-4 rounded-lg hover:bg-white transition-colors cursor-pointer border border-indigo-600",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors cursor-pointer",children:"Register Player"})]})]}),!e&&(0,l.jsxs)("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow-md",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row justify-center md:justify-between items-center mb-4",children:[(0,l.jsx)("h2",{className:"text-lg md:text-xl font-semibold mb-4",children:"Registered Players"}),(0,l.jsx)("input",{type:"text",className:"border border-gray-300 rounded-lg px-4 py-2",placeholder:"Search players...",value:j,onChange:e=>N(e.target.value)})]}),(0,l.jsxs)("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:[(0,l.jsx)("div",{className:"inline-block min-w-full align-middle",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(null==f?void 0:f.length)===0?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",colSpan:3,children:"No players registered yet"})}):null==f?void 0:f.map(e=>{var t;return(0,l.jsxs)("tr",{className:"odd:bg-gray-50 even:bg-white text-left text-xs font-medium  uppercase tracking-wider",children:[(0,l.jsx)("td",{className:"px-6 py-3 cursor-pointer text-indigo-600 hover:text-indigo-900",children:(0,l.jsx)("a",{href:"/players/".concat(e._id),children:e.name})}),(0,l.jsx)("td",{className:"px-6 py-3",children:e.age}),(0,l.jsx)("td",{className:"px-6 py-3",children:null===(t=d.find(t=>t.value===e.player_role))||void 0===t?void 0:t.label}),(0,l.jsx)("td",{className:"px-6 py-3",children:"Bowler"===e.player_role?"".concat(e.totalWickets," wickets"):"".concat(e.totalRuns," runs")})]},e._id)})})]})}),(0,l.jsxs)("div",{className:"flex  md:justify-end sm:justify-center gap-3 items-center mt-4",children:[(0,l.jsx)("button",{className:"".concat(1===w?"bg-white text-gray-500":"bg-indigo-600 text-white","  px-4 py-2 rounded-lg cursor-pointer"),disabled:1===w,onClick:()=>k(e=>Math.max(e-1,1)),children:"Prev"}),(0,l.jsxs)("span",{children:["Pages ",w," of ",_]}),(0,l.jsx)("button",{className:"".concat(w===_?"bg-white text-gray-500":"bg-indigo-600 text-white","  px-4 py-2 rounded-lg cursor-pointer"),disabled:w===_,onClick:()=>k(e=>Math.min(e+1,_)),children:"Next"})]})]})]}),(0,l.jsx)(u.A,{message:"string"==typeof(null==S?void 0:S.message)?S.message:"Player registered successfully",status:(null==S?void 0:S.status)?"success":"error",open:!!S,onClose:()=>C(null)})]})}},6297:(e,t,a)=>{"use strict";a.d(t,{g:()=>s});var l=a(4232);let s=e=>{let{url:t,method:a,id:s}=e,[r,i]=(0,l.useState)(null),[n,o]=(0,l.useState)(!0),[c,d]=(0,l.useState)(null),m=(0,l.useCallback)(async()=>{o(!0);try{let e=await fetch("".concat("https://my-cricket-stats-backend.onrender.com/api/v1").concat(t,"/").concat(s),{method:a}),l=await e.json();console.log("Result",l),i(l),o(!1)}catch(e){console.log("Error fetching data",e),d("object"==typeof e&&null!==e?e:{message:String(e)}),o(!1)}},[t,s,a]);return(0,l.useEffect)(()=>{m()},[m]),{data:r,loading:n,error:c}}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(2713)),_N_E=e.O()}]);