(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[850],{1180:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var s=a(7876),l=a(1713);let r=(0,l.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),i=(0,l.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),n=(0,l.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),c=(0,l.A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var d=a(672),o=a(4232);let m=e=>{let{message:t,open:a,status:l,duration:m=3e3,onClose:x}=e,[u,p]=(0,o.useState)(!1),{bg:g,text:h,icon:y}=(()=>{switch(l){case"success":return{bg:"bg-green-100",text:"text-green-800",icon:(0,s.jsx)(r,{size:20,className:"text-green-500"})};case"error":return{bg:"bg-red-100",text:"text-red-800",icon:(0,s.jsx)(i,{size:20,className:"text-red-500"})};case"info":return{bg:"bg-blue-100",text:"text-blue-800",icon:(0,s.jsx)(n,{size:20,className:"text-blue-500"})};default:return{bg:"bg-orange-100",text:"text-orange-800",icon:(0,s.jsx)(c,{size:20,className:"text-orange-500"})}}})(),f=(0,o.useCallback)(()=>{p(!0),setTimeout(()=>{x&&x()},300)},[x]);return(0,o.useEffect)(()=>{if(m&&x){let e=setTimeout(()=>{f()},m);return()=>clearTimeout(e)}},[m,x,f]),(0,s.jsx)(s.Fragment,{children:a&&(0,s.jsxs)("div",{className:"fixed flex items-center gap-2 bottom-4 right-4 z-50 w-80 p-2 rounded-lg shadow-lg ".concat(g," ").concat(h,"  ").concat(u?"animation-slide-out":"animation-slide-in"),children:[y,(0,s.jsx)("div",{className:"flex-1 text-sm",children:t}),(0,s.jsx)("button",{className:"ml-auto p-2 text-gray-500 hover:text-gray-700",onClick:x,children:(0,s.jsx)(d.A,{size:20})})]})})}},3637:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(7876),l=a(4232),r=a(7396),i=a(6297),n=a(1180);let c=()=>{var e,t;let[a,c]=(0,l.useState)(!1),[d,o]=(0,l.useState)({name:"",captain:"",players:[]}),[m,x]=(0,l.useState)({name:"",captain:"",players:""}),[u,p]=(0,l.useState)([]),[g,h]=(0,l.useState)([]),[y,f]=(0,l.useState)(""),[b,v]=(0,l.useState)(1),[j,N]=(0,l.useState)(1),[w,k]=(0,l.useState)(null),[C,S]=(0,l.useState)([]),_=(0,i.g)({url:"/teams/get-all-teams",method:"GET",id:""}),T=(0,i.g)({url:"/players/get-all-players",method:"GET",id:""}),A=async(e,t,a)=>{try{let s=await fetch("".concat("https://my-cricket-stats-backend.onrender.com/api/v1").concat(e),{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),l=await s.json();console.log("Result",l),o({name:"",captain:"",players:[]}),S([]),k(l)}catch(e){console.log("Error fetching data",e),x({name:"",captain:"",players:""})}},E=()=>{let e={name:"",captain:"",players:""};return d.name||(e.name="Name is required"),d.captain||(e.captain="Captain is required"),0===d.players.length&&(e.players="At least one player is required"),d.players.length>11&&(e.players="Maximum 11 players are allowed"),x(e),!Object.values(e).some(e=>""!==e)};return(0,l.useEffect)(()=>{var e,t;let a=Array.isArray(null==_?void 0:null===(e=_.data)||void 0===e?void 0:e.data)?null==_?void 0:null===(t=_.data)||void 0===t?void 0:t.data:[],s=y.trim()?a.filter(e=>"object"==typeof e&&null!==e&&Object.values(e).some(e=>String(e).toLowerCase().includes(y.toLowerCase()))):a;p(s),N(Math.ceil((null==s?void 0:s.length)/5))},[y,_,a]),(0,l.useEffect)(()=>{h(null==u?void 0:u.slice((b-1)*5,5*b))},[b,u]),console.log(C),(0,s.jsxs)("div",{className:"space-y-6 mx-4 md:mx-22 mt-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Teams"}),(0,s.jsx)("button",{className:"w-full sm:w-auto bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",onClick:()=>{c(!0)},children:"Create New Team"})]}),a&&(0,s.jsxs)("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow-md max-w-2xl mx-auto",children:[(0,s.jsx)("h2",{className:"text-lg md:text-xl font-semibold mb-6",children:"Create Team"}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),console.log("Team creation:",d),E()){let e={team_name:d.name,captain_id:d.captain,players_list:d.players};console.log(e),A("/teams/create-team","POST",e)}else console.log("Error in post api of team creation.",m)},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Team Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(r.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,s.jsx)("input",{type:"text",className:"pl-10 py-1 w-full rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",placeholder:"Enter team name",value:d.name,onChange:e=>o({...d,name:e.target.value})})]}),(0,s.jsx)("span",{className:"text-red-500 text-sm mt-1",children:m.name})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Select Players"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("select",{multiple:!0,className:"w-full py-1 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 h-32",value:d.players,onChange:e=>{let t=e.target.value,a=d.players.includes(t);console.log("isPresent",a),o(e=>({...e,players:a?e.players.filter(e=>e!==t):[...e.players,t]})),S(s=>a?C.filter(e=>e.value!==t):[...s,{value:e.target.value,label:e.target.selectedOptions[0].text}])},children:null==T?void 0:null===(t=T.data)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.map(e=>(0,s.jsx)("option",{value:e._id,className:"text-sm p-2",children:e.name},e._id))})}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Hold Ctrl/Cmd to select multiple players"}),(0,s.jsx)("span",{className:"text-red-500 text-sm mt-1",children:m.players})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Select Captain"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("select",{className:"w-full py-1 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",value:d.captain,onChange:e=>o({...d,captain:e.target.value}),children:null==C?void 0:C.map(e=>(0,s.jsx)("option",{value:e.value,className:"text-sm p-2",children:e.label},e.value))})}),(0,s.jsx)("span",{className:"text-red-500 text-sm mt-1",children:m.captain})]}),(0,s.jsx)("button",{type:"button",onClick:()=>c(!1),className:"w-full bg-white text-indigo-600 py-2 px-4 rounded-lg hover:bg-white transition-colors cursor-pointer border border-indigo-600",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors",children:"Create Team"})]})]}),!a&&(0,s.jsxs)("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow-md overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-center md:justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-lg md:text-xl font-semibold mb-4",children:"Registered Teams"}),(0,s.jsx)("input",{type:"text",className:"border border-gray-300 rounded-lg px-4 py-2",placeholder:"Search players...",value:y,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:[(0,s.jsx)("div",{className:"inline-block min-w-full align-middle",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Name"}),(0,s.jsx)("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Captain"}),(0,s.jsx)("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Players"}),(0,s.jsx)("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(null==g?void 0:g.length)===0?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",colSpan:3,children:"No players registered yet"})}):null==g?void 0:g.map(e=>{var t;return(0,s.jsxs)("tr",{className:"odd:bg-gray-50 even:bg-white text-left text-xs font-medium  uppercase tracking-wider",children:[(0,s.jsx)("td",{className:"px-6 py-3 cursor-pointer text-indigo-600 hover:text-indigo-900",children:(0,s.jsx)("a",{href:"/teams/".concat(e._id),children:e.name})}),(0,s.jsx)("td",{className:"px-6 py-3",children:null===(t=e.captain)||void 0===t?void 0:t.name}),(0,s.jsx)("td",{className:"px-6 py-3 ",children:"".concat(e.players.length," players")}),(0,s.jsx)("td",{className:"px-6 py-3 ",children:"".concat(e.wins,"/").concat(e.matches," wins")})]},e._id)})})]})}),(0,s.jsxs)("div",{className:"flex  md:justify-end sm:justify-center gap-3 items-center mt-4",children:[(0,s.jsx)("button",{className:"".concat(1===b?"bg-white text-gray-500":"bg-indigo-600 text-white","  px-4 py-2 rounded-lg cursor-pointer"),disabled:1===b,onClick:()=>v(e=>Math.max(e-1,1)),children:"Prev"}),(0,s.jsxs)("span",{children:["Pages ",b," of ",j]}),(0,s.jsx)("button",{className:"".concat(b===j?"bg-white text-gray-500":"bg-indigo-600 text-white","  px-4 py-2 rounded-lg cursor-pointer"),disabled:b===j,onClick:()=>v(e=>Math.min(e+1,j)),children:"Next"})]})]})]}),(0,s.jsx)(n.A,{message:"string"==typeof(null==w?void 0:w.message)?w.message:"Player registered successfully",status:(null==w?void 0:w.status)?"success":"error",open:!!w,onClose:()=>k(null)})]})}},6297:(e,t,a)=>{"use strict";a.d(t,{g:()=>l});var s=a(4232);let l=e=>{let{url:t,method:a,id:l}=e,[r,i]=(0,s.useState)(null),[n,c]=(0,s.useState)(!0),[d,o]=(0,s.useState)(null),m=(0,s.useCallback)(async()=>{c(!0);try{let e=await fetch("".concat("https://my-cricket-stats-backend.onrender.com/api/v1").concat(t,"/").concat(l),{method:a}),s=await e.json();console.log("Result",s),i(s),c(!1)}catch(e){console.log("Error fetching data",e),o("object"==typeof e&&null!==e?e:{message:String(e)}),c(!1)}},[t,l,a]);return(0,s.useEffect)(()=>{m()},[m]),{data:r,loading:n,error:d}}},6577:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/teams",function(){return a(3637)}])},7396:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1713).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(6577)),_N_E=e.O()}]);